(function(){"use strict";var e={5510:function(e,t,a){a.d(t,{db:function(){return Fe},I:function(){return He}});var n=a(5130),r=a(657),i=a(6768);const l={id:"app"},o={class:"main-nav"},c={class:"nav-content"},s={class:"nav-brand"},u={class:"nav-links"};function d(e,t,a,n,r,d){const m=(0,i.g2)("router-link"),p=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("nav",o,[(0,i.Lk)("div",c,[(0,i.Lk)("div",s,[(0,i.bF)(m,{to:"/blog"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.eW)("PeakMind")]))),_:1})]),(0,i.Lk)("div",u,[(0,i.bF)(m,{to:"/blog"},{default:(0,i.k6)((()=>t[1]||(t[1]=[(0,i.eW)("Home")]))),_:1}),(0,i.bF)(m,{to:"/blog/about"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.eW)("About")]))),_:1})])])]),(0,i.Lk)("main",null,[(0,i.bF)(p)])])}var m={name:"App"},p=a(1241);const f=(0,p.A)(m,[["render",d]]);var v=f,g=a(1387),h=a(4232);const b={class:"article-container"},k={class:"article-list"},y=["onClick"],L=["src","alt"],w={class:"article-info"},A={class:"article-title"},C={class:"article-preview"},E={class:"article-meta"},I={class:"author-name"},_={class:"article-date"};function D(e,t,a,n,r,l){return(0,i.uX)(),(0,i.CE)("div",b,[t[0]||(t[0]=(0,i.Lk)("h1",{class:"text-3xl font-bold mb-6"},"Blog Posts",-1)),(0,i.Lk)("div",k,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.articles,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"article-row",onClick:t=>n.navigateToArticle(e.id)},[(0,i.Lk)("img",{src:e.imageUrl,alt:e.title,class:"article-image"},null,8,L),(0,i.Lk)("div",w,[(0,i.Lk)("h2",A,(0,h.v_)(e.title),1),(0,i.Lk)("p",C,(0,h.v_)(e.preview),1),(0,i.Lk)("div",E,[(0,i.Lk)("span",I,(0,h.v_)(e.author.name),1),(0,i.Lk)("span",_,(0,h.v_)(n.formatDate(e.publishedAt)),1)])])],8,y)))),128))])])}a(4114);var P=a(144),S=(a(8111),a(1701),a(7617)),M=a(7844);const x={async uploadImage(e){const t=(0,M.KR)(He,`articles/${Date.now()}_${e.name}`);await(0,M.D)(t,e);const a=await(0,M.qk)(t);return a},async createArticle(e){const t=(0,S.rJ)(Fe,"articles"),a=await(0,S.gS)(t,{...e,createdAt:(new Date).toISOString()});return a.id},async getArticles(){const e=(0,S.rJ)(Fe,"articles"),t=(0,S.P)(e,(0,S.My)("createdAt","desc")),a=await(0,S.GG)(t);return a.docs.map((e=>({id:e.id,...e.data()})))},async getArticle(e){const t=(0,S.H9)(Fe,"articles",e),a=await(0,S.x7)(t);return a.exists()?{id:a.id,...a.data()}:null}};var U=a(8785);const B=e=>{if(!e)return"Date unavailable";try{return e&&e.toDate?(0,U.A)(e.toDate(),"MMM d, yyyy"):"string"===typeof e?(0,U.A)(new Date(e),"MMM d, yyyy"):e instanceof Date?(0,U.A)(e,"MMM d, yyyy"):"Date unavailable"}catch(t){return console.error("Error formatting date:",t),"Date unavailable"}};var T={name:"ArticleList",setup(){const e=(0,g.rd)(),t=(0,P.KR)([]),a=(0,P.KR)(!0),n=async()=>{try{a.value=!0,t.value=await x.getArticles()}catch(e){console.error("Error fetching articles:",e),alert("Failed to load articles. Please try again.")}finally{a.value=!1}},r=t=>{e.push(`/blog/${t}`)};return(0,i.sV)((()=>{n()})),{articles:t,loading:a,navigateToArticle:r,formatDate:B}}};const F=(0,p.A)(T,[["render",D],["__scopeId","data-v-07f81262"]]);var O=F;const H={key:0,class:"article-detail"},K={class:"article-header"},j=["src","alt"],R={class:"article-header-content"},X={class:"article-title"},N={class:"article-meta"},q={class:"author-info"},J={class:"author-details"},V={class:"author-name"},W={class:"article-date"},$={class:"article-content"},G=["innerHTML"],Q={class:"article-footer"};function z(e,t,a,n,r,l){return n.article?((0,i.uX)(),(0,i.CE)("div",H,[(0,i.Lk)("div",K,[(0,i.Lk)("img",{src:n.article.imageUrl,alt:n.article.title,class:"article-hero-image"},null,8,j),(0,i.Lk)("div",R,[(0,i.Lk)("h1",X,(0,h.v_)(n.article.title),1),(0,i.Lk)("div",N,[(0,i.Lk)("div",q,[(0,i.Lk)("div",J,[(0,i.Lk)("span",V,(0,h.v_)(n.article.author.name),1),(0,i.Lk)("span",W,(0,h.v_)(n.formatDate(n.article.publishedAt)),1)])])])])]),(0,i.Lk)("div",$,[(0,i.Lk)("div",{innerHTML:n.article.content},null,8,G)]),(0,i.Lk)("div",Q,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e)),class:"back-button"}," â† Back to Articles ")])])):(0,i.Q3)("",!0)}var Y={name:"ArticleDetail",setup(){const e=(0,g.lq)(),t=(0,g.rd)(),a=(0,P.KR)(null),n=(0,P.KR)(!0),r=async e=>{try{n.value=!0,a.value=await x.getArticle(e),a.value||t.push("/articles")}catch(r){console.error("Error fetching article:",r),alert("Failed to load article. Please try again.")}finally{n.value=!1}},l=()=>{t.push("/blog")};return(0,i.sV)((async()=>{const t=e.params.id;await r(t)})),{article:a,loading:n,formatDate:B,goBack:l}}};const Z=(0,p.A)(Y,[["render",z],["__scopeId","data-v-78b0a9c8"]]);var ee=Z;const te={class:"article-form-container"},ae={class:"form-group"},ne={class:"form-group"},re={class:"form-group"},ie={class:"editor-toolbar"},le=["onClick","title"],oe={class:"form-group"},ce={class:"image-upload"},se=["src"],ue={key:1,class:"upload-placeholder"},de={class:"form-group"},me={class:"author-info"},pe={class:"author-avatar"},fe=["src"],ve={class:"author-details"},ge={class:"form-actions"},he=["disabled"],be={key:0,class:"preview-modal"},ke={class:"preview-content"},ye=["src","alt"],Le=["innerHTML"];function we(e,t,a,r,l,o){return(0,i.uX)(),(0,i.CE)("div",te,[t[15]||(t[15]=(0,i.Lk)("h1",{class:"page-title"},"Create New Article",-1)),(0,i.Lk)("form",{onSubmit:t[7]||(t[7]=(0,n.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"])),class:"article-form"},[(0,i.Lk)("div",ae,[t[9]||(t[9]=(0,i.Lk)("label",{for:"title"},"Article Title",-1)),(0,i.bo)((0,i.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>r.article.title=e),type:"text",placeholder:"Enter article title",required:"",class:"form-input"},null,512),[[n.Jo,r.article.title]])]),(0,i.Lk)("div",ne,[t[10]||(t[10]=(0,i.Lk)("label",{for:"preview"},"Preview Text",-1)),(0,i.bo)((0,i.Lk)("textarea",{id:"preview","onUpdate:modelValue":t[1]||(t[1]=e=>r.article.preview=e),placeholder:"Enter a short preview of your article",rows:"3",class:"form-input"},null,512),[[n.Jo,r.article.preview]])]),(0,i.Lk)("div",re,[t[11]||(t[11]=(0,i.Lk)("label",{for:"content"},"Article Content",-1)),(0,i.Lk)("div",ie,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.editorCommands,(e=>((0,i.uX)(),(0,i.CE)("button",{key:e.id,type:"button",onClick:t=>r.executeCommand(e.command,e.value),class:"toolbar-button",title:e.label},(0,h.v_)(e.icon),9,le)))),128))]),(0,i.Lk)("div",{id:"content",contenteditable:!0,onInput:t[2]||(t[2]=(...e)=>r.handleContentInput&&r.handleContentInput(...e)),class:"content-editor",ref:"contentEditor"},null,544)]),(0,i.Lk)("div",oe,[t[13]||(t[13]=(0,i.Lk)("label",{for:"image"},"Featured Image",-1)),(0,i.Lk)("div",ce,[(0,i.Lk)("input",{id:"image",type:"file",onChange:t[3]||(t[3]=(...e)=>r.handleImageUpload&&r.handleImageUpload(...e)),accept:"image/*",class:"hidden",ref:"imageInput"},null,544),(0,i.Lk)("div",{class:(0,h.C4)(["upload-area",{"has-image":r.article.image}]),onClick:t[4]||(t[4]=(...e)=>r.triggerImageUpload&&r.triggerImageUpload(...e))},[r.article.image?((0,i.uX)(),(0,i.CE)("img",{key:0,src:r.article.image,alt:"Featured image preview",class:"image-preview"},null,8,se)):((0,i.uX)(),(0,i.CE)("div",ue,t[12]||(t[12]=[(0,i.Lk)("span",{class:"upload-icon"},"ðŸ“·",-1),(0,i.Lk)("span",null,"Click to upload image",-1)])))],2)])]),(0,i.Lk)("div",de,[t[14]||(t[14]=(0,i.Lk)("label",{for:"author"},"Author Information",-1)),(0,i.Lk)("div",me,[(0,i.Lk)("div",pe,[(0,i.Lk)("img",{src:r.article.author.avatar||"/default-avatar.png",alt:"Author avatar"},null,8,fe)]),(0,i.Lk)("div",ve,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>r.article.author.name=e),placeholder:"Author name",class:"form-input"},null,512),[[n.Jo,r.article.author.name]])])])]),(0,i.Lk)("div",ge,[(0,i.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>r.previewArticle&&r.previewArticle(...e)),class:"preview-button"}," Preview "),(0,i.Lk)("button",{type:"submit",class:"submit-button",disabled:r.isSubmitting},(0,h.v_)(r.isSubmitting?"Publishing...":"Publish Article"),9,he)])],32),r.showPreview?((0,i.uX)(),(0,i.CE)("div",be,[(0,i.Lk)("div",ke,[(0,i.Lk)("button",{onClick:t[8]||(t[8]=e=>r.showPreview=!1),class:"close-preview"},"Ã—"),(0,i.Lk)("h2",null,(0,h.v_)(r.article.title),1),r.article.image?((0,i.uX)(),(0,i.CE)("img",{key:0,src:r.article.image,alt:r.article.title,class:"preview-image"},null,8,ye)):(0,i.Q3)("",!0),(0,i.Lk)("div",{innerHTML:r.article.content,class:"preview-body"},null,8,Le)])])):(0,i.Q3)("",!0)])}var Ae={name:"ArticleForm",setup(){const e=(0,g.rd)(),t=(0,P.KR)(null),a=(0,P.KR)(null),n=(0,P.KR)(!1),r=(0,P.KR)(!1),l=(0,P.KR)(null),o=(0,P.Kh)({title:"",preview:"",content:"",image:null,imageUrl:null,author:{name:"",avatar:"/default-avatar.png"},publishedAt:new Date}),c=e=>{const t=e.target.files[0];if(t){l.value=t;const e=new FileReader;e.onload=e=>{o.image=e.target.result},e.readAsDataURL(t)}},s=async()=>{try{r.value=!0,l.value&&(o.imageUrl=await x.uploadImage(l.value));const t={title:o.title,preview:o.preview,content:o.content,imageUrl:o.imageUrl,author:o.author,publishedAt:o.publishedAt},a=await x.createArticle(t);e.push(`/blog/${a}`)}catch(t){console.error("Error publishing article:",t),alert("Failed to publish article. Please try again.")}finally{r.value=!1}},u=[{id:1,label:"Bold",icon:"B",command:"bold"},{id:2,label:"Italic",icon:"I",command:"italic"},{id:3,label:"Heading 2",icon:"H2",command:"formatBlock",value:"h2"},{id:4,label:"Heading 3",icon:"H3",command:"formatBlock",value:"h3"},{id:5,label:"Quote",icon:'"',command:"formatBlock",value:"blockquote"},{id:6,label:"Code",icon:"<>",command:"formatBlock",value:"pre"},{id:7,label:"Link",icon:"ðŸ”—",command:"createLink"}],d=(e,a)=>{if("createLink"===e){const t=prompt("Enter URL:");t&&document.execCommand(e,!1,t)}else document.execCommand(e,!1,a);t.value.focus()},m=e=>{o.content=e.target.innerHTML},p=()=>{a.value.click()},f=()=>{n.value=!0};return(0,i.sV)((()=>{t.value&&(t.value.innerHTML=o.content)})),{article:o,contentEditor:t,imageInput:a,showPreview:n,isSubmitting:r,editorCommands:u,executeCommand:d,handleContentInput:m,handleImageUpload:c,triggerImageUpload:p,previewArticle:f,handleSubmit:s}}};const Ce=(0,p.A)(Ae,[["render",we],["__scopeId","data-v-7d15f620"]]);var Ee=Ce;const Ie=[{path:"/blog",name:"Home",component:O},{path:"/blog/:id",name:"ArticleDetail",component:ee,props:e=>({articleId:e.params.id})},{path:"/blog/new",component:Ee},{path:"/blog/about",name:"About",component:()=>a.e(344).then(a.bind(a,2344))}],_e=(0,g.aE)({history:(0,g.LA)(),routes:Ie});var De=_e,Pe=a(782),Se=(0,Pe.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Me=a(6400),xe=a(4271);const Ue=()=>{const e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;500&family=Playfair+Display&display=swap",document.head.appendChild(e)},Be={apiKey:"AIzaSyAJtaj_uLY0BBZO1mQGScgPH1PoffeWFBY",authDomain:"blog-peakmind.firebaseapp.com",projectId:"blog-peakmind",storageBucket:"blog-peakmind.firebasestorage.app",messagingSenderId:"324663637798",appId:"1:324663637798:web:9bf00dcf76187ef0f633e7",measurementId:"G-ED8PWGEP3D"},Te=(0,Me.Wp)(Be),Fe=(0,S.aU)(Te),Oe=(0,xe.xI)(Te),He=(0,M.c7)(Te);let Ke;const je=async()=>{Ue();const e=(0,r.Ey)();(0,xe.hg)(Oe,(async t=>{Ke||(await Se.dispatch("initializeAuth"),t?console.log("User is logged in:",t.email):console.log("No user logged in"),Ke=(0,n.Ef)(v).use(e).use(De).use(Se).mount("#app"))}))};je()}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var o=!0,c=0;c<n.length;c++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(o=!1,i<l&&(l=i));if(o){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".7e97d822.js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".ff03e9ea.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="blogv2:";a.l=function(n,r,i,l){if(e[n])e[n].push(r);else{var o,c;if(void 0!==i)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var m=function(t,a){o.onerror=o.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/blog/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,i){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",a.nc&&(l.nonce=a.nc);var o=function(a){if(l.onerror=l.onload=null,"load"===a.type)r();else{var n=a&&a.type,o=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=o,l.parentNode&&l.parentNode.removeChild(l),i(c)}};return l.onerror=l.onload=o,l.href=t,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var l=document.getElementsByTagName("style");for(n=0;n<l.length;n++){r=l[n],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise((function(r,i){var l=a.miniCssF(n),o=a.p+l;if(t(l,o))return r();e(n,o,null,r,i)}))},r={524:0};a.f.miniCss=function(e,t){var a={344:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=i);var l=a.p+a.u(t),o=new Error,c=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",o.name="ChunkLoadError",o.type=i,o.request=l,r[1](o)}};a.l(l,c,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,l=n[0],o=n[1],c=n[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(c)var u=c(a)}for(t&&t(n);s<l.length;s++)i=l[s],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self["webpackChunkblogv2"]=self["webpackChunkblogv2"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(5510)}));n=a.O(n)})();
//# sourceMappingURL=app.7a49cc2e.js.map